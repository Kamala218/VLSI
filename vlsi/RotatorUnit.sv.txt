module RotatorUnit (
    input wire clk,
    input wire rst,
    input wire dir, // 1 = left, 0 = right
    input wire [7:0] in_data,
    output reg [7:0] out_data
);

    always @(posedge clk or posedge rst) begin
        if (rst)
            out_data <= in_data;
        else begin
            if (dir)
                out_data <= {out_data[6:0], out_data[7]}; // left rotate
            else
                out_data <= {out_data[0], out_data[7:1]}; // right rotate
        end
    end
endmodule
